<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'; style-src 'self'"
    />
    <title>Job Applicator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="toolbar">
      <button class="sidebar-toggle" id="sidebarToggle" title="Toggle sidebar">
        <span class="toggle-icon"></span>
      </button>
      <input type="text" class="url-input" id="urlInput" placeholder="Enter job application URL..." />
      <button class="btn-go" id="goBtn">Go</button>
      <select id="providerSelect">
        <option value="claude">Claude</option>
        <option value="codex">Codex</option>
        <option value="gemini">Gemini</option>
      </select>
      <button class="btn-fill" id="fillBtn">Fill Form</button>
      <button class="btn-upload" id="uploadBtn">Upload Resume</button>
      <button class="btn-submit" id="submitJobBtn">Submit Job</button>
      <span class="status" id="status">Ready</span>
    </div>

    <div class="sidebar" id="sidebar">
      <div class="sidebar-content">
        <!-- Workflow Progress Section -->
        <section class="sidebar-section workflow-section">
          <div class="workflow-progress" id="workflowProgress">
            <div class="workflow-step" data-step="job">
              <span class="step-indicator"></span>
              <span class="step-label">Job</span>
            </div>
            <div class="workflow-connector"></div>
            <div class="workflow-step" data-step="docs">
              <span class="step-indicator"></span>
              <span class="step-label">Docs</span>
            </div>
            <div class="workflow-connector"></div>
            <div class="workflow-step" data-step="fill">
              <span class="step-indicator"></span>
              <span class="step-label">Fill</span>
            </div>
            <div class="workflow-connector"></div>
            <div class="workflow-step" data-step="submit">
              <span class="step-indicator"></span>
              <span class="step-label">Submit</span>
            </div>
          </div>
        </section>

        <!-- Job Matches Section -->
        <section class="sidebar-section">
          <h3 class="section-title">Job Matches</h3>
          <div class="job-list" id="jobList">
            <div class="loading-placeholder">Loading...</div>
          </div>
        </section>

        <!-- Job Actions Section (shown when job selected) -->
        <section class="sidebar-section job-actions-section" id="jobActionsSection" style="display: none;">
          <h3 class="section-title">Actions</h3>
          <div class="job-actions">
            <button class="btn-mark-applied" id="markAppliedBtn">Mark as Applied</button>
            <button class="btn-mark-ignored" id="markIgnoredBtn">Ignore</button>
          </div>
        </section>

        <!-- Documents Section -->
        <section class="sidebar-section" id="documentsSection">
          <h3 class="section-title">Documents</h3>
          <div class="documents-list" id="documentsList">
            <div class="empty-placeholder">Select a job match</div>
          </div>
          <div class="section-actions">
            <button class="btn-generate" id="generateBtn" disabled>Generate New</button>
          </div>
          <!-- Generation Progress -->
          <div class="generation-progress" id="generationProgress" style="display: none;">
            <div class="generation-steps" id="generationSteps"></div>
          </div>
        </section>

        <!-- Results Section -->
        <section class="sidebar-section" id="resultsSection">
          <h3 class="section-title">Fill Results</h3>
          <div class="results-content" id="resultsContent">
            <div class="empty-placeholder">No results yet</div>
          </div>
        </section>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
